## üéØ **–û–°–ù–û–í–ù–ê–Ø –¶–ï–õ–¨ –£–†–û–ö–ê**

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥—É–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** —Å –ø–æ–ª–Ω–æ–π type safety, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è.

## üìÅ **–®–ê–ì 1: –°–û–ó–î–ê–ù–ò–ï –ú–û–î–£–õ–¨-–°–ü–ï–¶–ò–§–ò–ß–ù–û–ô –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**

### **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UsersModule:**

```
src/users/
‚îú‚îÄ‚îÄ config/           ‚Üê –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –º–æ–¥—É–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ config.ts     ‚Üê –ö–æ–Ω—Ñ–∏–≥ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è UsersModule
‚îú‚îÄ‚îÄ users.module.ts
‚îú‚îÄ‚îÄ users.service.ts
‚îî‚îÄ‚îÄ ...
```

## üîß **–®–ê–ì 2: –°–û–ó–î–ê–ù–ò–ï –ö–û–ù–§–ò–ì-–§–ê–ô–õ–ê –î–õ–Ø USERSMODULE**

### **–§–∞–π–ª: `src/users/config/config.ts`**

```typescript
import { registerAs } from "@nestjs/config";

export default registerAs("profileConfig", () => ({
  apiKey: process.env.PROFILE_API_KEY,
}));
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env.development:**

```env
# –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
PROFILE_API_KEY=google_profile_api_key_12345
```

## üîß **–®–ê–ì 3: –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ö–û–ù–§–ò–ì–ê –í USERSMODULE**

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `src/users/users.module.ts`:**

```typescript
import { Module } from "@nestjs/common";
import { ConfigModule } from "@nestjs/config"; // ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º ConfigModule
import profileConfig from "./config/config"; // ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥

@Module({
  imports: [
    // ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –º–æ–¥—É–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    ConfigModule.forFeature(profileConfig),

    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
  ],
  controllers: [UsersController],
  providers: [UsersService],
  exports: [UsersService],
})
export class UsersModule {}
```

## üîß **–®–ê–ì 4: –ò–ù–ñ–ï–ö–¢–ò–†–û–í–ê–ù–ò–ï –ö–û–ù–§–ò–ì–ê –í USERSERVICE**

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `src/users/users.service.ts`:**

```typescript
import { Inject, Injectable } from "@nestjs/common";
import { ConfigType } from "@nestjs/config"; // ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º ConfigType
import profileConfig from "./config/config"; // ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥

@Injectable()
export class UsersService {
  constructor(
    // ‚úÖ –ò–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    @Inject(profileConfig.KEY)
    private readonly profileConfiguration: ConfigType<typeof profileConfig>
  ) {}

  public findAll() {
    // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ñ–∏–≥ —Å –ø–æ–ª–Ω–æ–π type safety
    console.log(this.profileConfiguration); // –í–µ—Å—å –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥–∞
    console.log(this.profileConfiguration.apiKey); // –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ

    return [
      /* ... */
    ];
  }
}
```

## üîç **–î–ï–¢–ê–õ–¨–ù–´–ô –†–ê–ó–ë–û–† –ö–õ–Æ–ß–ï–í–´–• –ö–û–ù–¶–ï–ü–¶–ò–ô**

### **1. `ConfigModule.forFeature()` vs `ConfigModule.forRoot()`**

**`forRoot()` - –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```typescript
// app.module.ts - –¥–æ—Å—Ç—É–ø–Ω–æ –í–ï–ó–î–ï
ConfigModule.forRoot({
  isGlobal: true,
  load: [appConfig, databaseConfig],
});
```

**`forFeature()` - –ú–æ–¥—É–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```typescript
// users.module.ts - –¥–æ—Å—Ç—É–ø–Ω–æ –¢–û–õ–¨–ö–û –≤ UsersModule
ConfigModule.forFeature(profileConfig);
```

### **2. `ConfigType<typeof config>` - –ú–∞–≥–∏—è TypeScript**

**–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:**

```typescript
// –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–∏–ø –∏–∑ –∫–æ–Ω—Ñ–∏–≥-—Ñ—É–Ω–∫—Ü–∏–∏
type ProfileConfigType = ConfigType<typeof profileConfig>;
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { apiKey: string }
```

**–ë–µ–∑ `ConfigType` –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–∏—Å–∞—Ç—å:**

```typescript
interface ProfileConfig {
  apiKey: string;
}

// –í—Ä—É—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Ç–∏–ø–æ–≤ ‚ùå
```

### **3. `profileConfig.KEY` - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

**–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ:**

- –°–∏–º–≤–æ–ª (Symbol), —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ—É–Ω–∫—Ü–∏–µ–π `registerAs`
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ NestJS
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üéØ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ú–û–î–£–õ–¨–ù–û–ô –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**

### **1. –ü–æ–ª–Ω–∞—è Type Safety:**

```typescript
// ‚úÖ –ê–í–¢–û–ö–û–ú–ü–õ–ò–¢ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
this.profileConfiguration.apiKey; // TypeScript –∑–Ω–∞–µ—Ç —á—Ç–æ —ç—Ç–æ string
this.profileConfiguration.nonExistent; // ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!
```

### **2. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è:**

```typescript
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –¢–û–õ–¨–ö–û –≤ UsersModule
// –î—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ –Ω–µ –≤–∏–¥—è—Ç PROFILE_API_KEY
```

### **3. –õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å:**

```typescript
// –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å UsersModule –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ä—è–¥–æ–º
// –õ–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å
```

## üîÑ **–°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í**

### **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è):**

```typescript
// users.service.ts
constructor(private configService: ConfigService) {}

public findAll() {
  const apiKey = this.configService.get<string>('profileConfig.apiKey');
  // ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
  // ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
  // ‚ùå –û–ø–µ—á–∞—Ç–∫–∏ –≤ —Å—Ç—Ä–æ–∫–∞—Ö
}
```

### **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (–º–æ–¥—É–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è):**

```typescript
// users.service.ts
constructor(
  @Inject(profileConfig.KEY)
  private profileConfiguration: ConfigType<typeof profileConfig>
) {}

public findAll() {
  const apiKey = this.profileConfiguration.apiKey;
  // ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
  // ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
  // ‚úÖ –ë–µ–∑ –æ–ø–µ—á–∞—Ç–æ–∫
}
```

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –†–ê–ë–û–¢–´**

### **HTTP –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

```http
GET http://localhost:3000/users/
```

### **–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
{ apiKey: 'google_profile_api_key_12345' }  // –í–µ—Å—å –æ–±—ä–µ–∫—Ç
google_profile_api_key_12345                 // –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
```

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤:**

```typescript
// 1. –ò–º–ø–æ—Ä—Ç—ã NestJS
import { Inject, Injectable } from "@nestjs/common";
import { ConfigType } from "@nestjs/config";

// 2. –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
import profileConfig from "./config/config";
```

### **–°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ @Inject:**

```typescript
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
@Inject(profileConfig.KEY)

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
@Inject('profileConfig')  // ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç!
@Inject(profileConfig)    // ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç!
```

## üö® **–í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´**

### **1. –ì–ª–æ–±–∞–ª—å–Ω—ã–π ConfigService –≤—Å–µ –µ—â–µ –¥–æ—Å—Ç—É–ø–µ–Ω:**

```typescript
// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
constructor(
  private configService: ConfigService,                    // –ì–ª–æ–±–∞–ª—å–Ω—ã–π
  @Inject(profileConfig.KEY) private profileConfig: ...   // –ú–æ–¥—É–ª—å–Ω—ã–π
) {}
```

### **2. –ö–æ–Ω—Ñ–∏–≥–∏ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç:**

```typescript
// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: configService.get('database.host')
// –ú–æ–¥—É–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: this.profileConfig.apiKey

// –û–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞—Ö
```

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

```typescript
// PROFILE_API_KEY –¥–æ—Å—Ç—É–ø–µ–Ω –¢–û–õ–¨–ö–û –≤ UsersModule
// –î–∞–∂–µ –µ—Å–ª–∏ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç UsersModule, –æ–Ω–∏ –Ω–µ –ø–æ–ª—É—á–∞—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É
```

## üí° **–ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï**

### **–†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

**AuthModule:**

```typescript
// auth/config/config.ts
export default registerAs("auth", () => ({
  jwtSecret: process.env.JWT_SECRET,
  expiresIn: process.env.JWT_EXPIRES_IN,
}));
```

**EmailModule:**

```typescript
// email/config/config.ts
export default registerAs("email", () => ({
  smtpHost: process.env.SMTP_HOST,
  smtpPort: parseInt(process.env.SMTP_PORT),
  fromEmail: process.env.FROM_EMAIL,
}));
```

**PaymentModule:**

```typescript
// payment/config/config.ts
export default registerAs("payment", () => ({
  stripeKey: process.env.STRIPE_SECRET_KEY,
  webhookSecret: process.env.STRIPE_WEBHOOK_SECRET,
}));
```

## üîÆ **–ß–¢–û –î–ê–õ–¨–®–ï**

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑–∞–ª –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:

> "This is definitely for very large scale applications."

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**

- –ú–æ–¥—É–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–ø–æ–ª–Ω—É—é type safety**
- –ö–æ–Ω—Ñ–∏–≥–∏ **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã** –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –º–æ–¥—É–ª—è
- –ü–æ–¥—Ö–æ–¥ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –°–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

–≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º –≤ –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö! üöÄ
