## üéØ –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç –∞–≤—Ç–æ—Ä

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –≤ –≤–∞—à–µ–º –∫–æ–¥–µ:**

```typescript
TypeOrmModule.forRootAsync({
  useFactory: () => ({
    type: "postgres",
    port: 5432,
    username: "postgres", // ‚ö†Ô∏è –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ!
    password: "Password123#", // ‚ö†Ô∏è –û–ø–∞—Å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞!
    host: "localhost",
    database: "nestjs-blog",
  }),
});
```

–ê–≤—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ **–ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞** –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

## üîí –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ?

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–∞—Ä–æ–ª–∏ –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –î–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥ (development, staging, production) –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –¢—Ä—É–¥–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –≤ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö

## üåç –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Å—Ä–µ–¥ (Environments)

**–†–∞–∑–Ω—ã–µ —Å—Ä–µ–¥—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

| –°—Ä–µ–¥–∞           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                          |
| --------------- | ------------------------- | ---------------------------------------------------- |
| **Development** | –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞      | `synchronize: true`, —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ                 |
| **Staging**     | –ü—Ä–µ–¥–ø—Ä–æ–¥–∞–∫—à–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞              |
| **Production**  | –†–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞             | `synchronize: false`, –º–∏–≥—Ä–∞—Ü–∏–∏, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| **Test**        | –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã                 | –û—Ç–¥–µ–ª—å–Ω–∞—è –ë–î, –±—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö       |

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ: ConfigModule –≤ NestJS

### –ß—Ç–æ —Ç–∞–∫–æ–µ ConfigModule?

–≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å NestJS, –∫–æ—Ç–æ—Ä—ã–π:

- –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø–∞–∫–µ—Ç–µ `dotenv`
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å DI-—Å–∏—Å—Ç–µ–º–æ–π Nest

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –æ–±—ã—á–Ω—ã–º `dotenv`:

```typescript
// –û–±—ã—á–Ω—ã–π Node.js –ø–æ–¥—Ö–æ–¥ (–±–∞–∑–æ–≤—ã–π)
const dbPassword = process.env.DB_PASSWORD;

// NestJS –ø–æ–¥—Ö–æ–¥ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)
constructor(private configService: ConfigService) {
  const dbPassword = this.configService.get<string>('DB_PASSWORD');
}
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –≤–∞—à–∏–º —Ç–µ–∫—É—â–∏–º –∫–æ–¥–æ–º

**–í –≤–∞—à–µ–º `app.module.ts` —É–∂–µ –µ—Å—Ç—å –Ω–∞—á–∞–ª–æ:**

```typescript
import { ConfigModule } from "@nestjs/config";

@Module({
  imports: [
    ConfigModule.forRoot({
      isGlobal: true,  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –¥–µ–ª–∞–µ—Ç ConfigService –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤–µ–∑–¥–µ
    }),
    // ...
  ],
})
```

**–ò –≤ `users.service.ts` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**

```typescript
constructor(
  private readonly configService: ConfigService  // ‚úÖ –£–∂–µ –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω!
) {
  const environment = this.configService.get<string>("S3_BUCKET");
}
```

## üéØ –ß—Ç–æ –∞–≤—Ç–æ—Ä –æ–±–µ—â–∞–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –ª–µ–∫—Ü–∏—è—Ö

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** ConfigModule
2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö .env —Ñ–∞–π–ª–æ–≤** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
4. **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö config-—Å–µ—Ä–≤–∏—Å–æ–≤
5. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - –¥–ª—è production —Å—Ä–µ–¥—ã –≤–º–µ—Å—Ç–æ `synchronize: true`

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

**–ß—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑ –∫–æ–¥–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```env
# .env.development
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=Password123#
DB_NAME=nestjs-blog
DB_SYNCHRONIZE=true

# .env.production
DB_HOST=production-db.example.com
DB_PORT=5432
DB_USERNAME=prod_user
DB_PASSWORD=SuperSecurePassword456$
DB_NAME=nestjs-blog-prod
DB_SYNCHRONIZE=false
```

## üöÄ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–æ—Å—Ç–∞ –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

1. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** - —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ production-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **DevOps –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ä–µ–¥–∞–º–∏
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö

–ê–≤—Ç–æ—Ä –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –Ω–∞–≤—ã–∫ –¥–ª—è –ª—é–±–æ–≥–æ NestJS —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç –ø–∏—Å–∞—Ç—å production-ready –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
