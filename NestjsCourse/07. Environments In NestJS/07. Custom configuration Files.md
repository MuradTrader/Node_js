## üéØ **–û–°–ù–û–í–ù–ê–Ø –¶–ï–õ–¨ –£–†–û–ö–ê**

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–µ–∂–¥—É environment variables –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

## üìÅ **–®–ê–ì 1: –°–û–ó–î–ê–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**

### **–ù–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤:**

```
src/
‚îú‚îÄ‚îÄ config/           ‚Üê –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ app.config.ts ‚Üê –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ app.module.ts
‚îî‚îÄ‚îÄ ...
```

## üîß **–®–ê–ì 2: –°–û–ó–î–ê–ù–ò–ï –ö–ê–°–¢–û–ú–ù–û–ì–û –ö–û–ù–§–ò–ì-–§–ê–ô–õ–ê**

### **–§–∞–π–ª: `src/config/app.config.ts`**

```typescript
export const appConfig = () => ({
  database: {
    host: process.env.DATABASE_HOST || "localhost", // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    port: parseInt(process.env.DATABASE_PORT) || 5432, // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–∞
    user: process.env.DATABASE_USER,
    password: process.env.DATABASE_PASSWORD,
    name: process.env.DATABASE_NAME,
    synchronize: process.env.DATABASE_SYNC === "true", // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ boolean
    autoLoadEntities: process.env.DATABASE_AUTOLOAD === "true",
  },
  environment: process.env.NODE_ENV || "production", // –ó–∞—â–∏—Ç–∞ –æ—Ç undefined
});
```

## üîç **–î–ï–¢–ê–õ–¨–ù–´–ô –†–ê–ó–ë–û–† APP.CONFIG.TS**

### **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:**

```typescript
{
  database: { ... },      // –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã
  environment: 'development' // –¢–µ–∫—É—â–∞—è —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
}
```

### **2. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ config —Ñ–∞–π–ª–∞:**

**–ê. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**

```typescript
// –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ–º default
host: process.env.DATABASE_HOST || 'localhost',
port: parseInt(process.env.DATABASE_PORT) || 5432,
```

**–ë. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤:**

```typescript
// –ò–∑ string –≤ number
port: parseInt(process.env.DATABASE_PORT) || 5432,

// –ò–∑ string –≤ boolean
synchronize: process.env.DATABASE_SYNC === 'true',
```

**–í. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:**

```typescript
// –í–º–µ—Å—Ç–æ —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç
database: {
  host: 'localhost',
  port: 5432,
  user: 'postgres',
  // ...
}
```

## ‚öôÔ∏è **–®–ê–ì 3: –û–ë–ù–û–í–õ–ï–ù–ò–ï APP.MODULE.TS**

### **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```typescript
import { appConfig } from './config/app.config';

@Module({
  imports: [
    ConfigModule.forRoot({
      isGlobal: true,
      envFilePath: env ? `.env.${env}` : '.env',
      load: [appConfig],  // ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    }),
    // ...
  ],
})
```

### **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `load`:**

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –º–µ—Ä–∂–∞—Ç—Å—è –≤ –æ–¥–∏–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç

## üóÉÔ∏è **–®–ê–ì 4: –û–ë–ù–û–í–õ–ï–ù–ò–ï TYPEORM –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```typescript
TypeOrmModule.forRootAsync({
  imports: [ConfigModule],
  inject: [ConfigService],
  useFactory: (configService: ConfigService) => ({
    type: "postgres",
    host: configService.get<string>("database.host"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    port: configService.get<number>("database.port"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    username: configService.get<string>("database.user"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    password: configService.get<string>("database.password"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    database: configService.get<string>("database.name"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    synchronize: configService.get<boolean>("database.synchronize"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
    autoLoadEntities: configService.get<boolean>("database.autoLoadEntities"), // ‚Üê –ù–æ–≤—ã–π –ø—É—Ç—å
  }),
});
```

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—É—Ç—è—Ö –¥–æ—Å—Ç—É–ø–∞:**

```typescript
// –ë–´–õ–û (–ø—Ä—è–º–æ –∏–∑ .env):
configService.get<string>("DATABASE_HOST");

// –°–¢–ê–õ–û (—á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–π config):
configService.get<string>("database.host");
```

## üîÑ **–®–ê–ì 5: –û–ë–ù–û–í–õ–ï–ù–ò–ï .ENV –§–ê–ô–õ–û–í**

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ .env.development:**

```env
# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=password
DATABASE_NAME=nestjs-blog

# –ù–û–í–´–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è boolean –Ω–∞—Å—Ç—Ä–æ–µ–∫:
DATABASE_SYNC=true
DATABASE_AUTOLOAD=true
```

## üéØ **–ö–õ–Æ–ß–ï–í–´–ï –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ö–ê–°–¢–û–ú–ù–´–• –ö–û–ù–§–ò–ì–û–í**

### **1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:**

```typescript
// –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
// –õ–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å
```

### **2. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤:**

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è string ‚Üí number, string ‚Üí boolean
// –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è production:**

```typescript
// synchronize –∏ autoLoadEntities –±—É–¥—É—Ç false –≤ production
// –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
```

### **4. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:**

```typescript
// –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ config —Ñ–∞–π–ª—ã –¥–ª—è:
// - database.config.ts
// - auth.config.ts
// - aws.config.ts
// - app.config.ts
```

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò**

### **–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å process.env:**

**–ì–î–ï –ú–û–ñ–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å process.env:**

- –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö (app.config.ts)
- –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ ConfigModule (app.module.ts)

**–ì–î–ï –ù–ï–õ–¨–ó–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å process.env:**

- –í —Å–µ—Ä–≤–∏—Å–∞—Ö (UsersService, PostsService, etc.)
- –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
- –í –ª—é–±–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º:**

```
process.env.DATABASE_HOST
         ‚Üì
app.config.ts ‚Üí database.host
         ‚Üì
ConfigService.get('database.host')
         ‚Üì
TypeOrmModule configuration
```

## üö® **–í–û–ó–ú–û–ñ–ù–´–ï –û–®–ò–ë–ö–ò –ò –†–ï–®–ï–ù–ò–Ø**

### **–û—à–∏–±–∫–∞: "Cannot find module './config/app.config'"**

```typescript
// –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
import { appConfig } from "./config/app.config";
// NOT: import { appConfig } from '../config/app.config';
```

### **–û—à–∏–±–∫–∞: –¢–∏–ø—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç**

```typescript
// –î–ª—è number –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
port: configService.get<number>('database.port'),

// –î–ª—è boolean –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
synchronize: configService.get<boolean>('database.synchronize'),
```

### **–û—à–∏–±–∫–∞: –ó–Ω–∞—á–µ–Ω–∏—è undefined**

```typescript
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ .env —Ñ–∞–π–ª–µ –µ—Å—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
// –ò —á—Ç–æ NODE_ENV —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

## üí° **–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –ü–†–ê–ö–¢–ò–ö–ò**

### **1. Type Safety (–±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö):**

```typescript
// –°–µ–π—á–∞—Å: –Ω–µ—Ç TypeScript –ø–æ–¥—Å–∫–∞–∑–æ–∫
configService.get<string>("database.host");

// –í –±—É–¥—É—â–µ–º: –ø–æ–ª–Ω–∞—è type safety
configService.get(ConfigKeys.DATABASE_HOST);
```

### **2. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã (–±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö):**

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π
```

### **3. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –ø–æ –º–æ–¥—É–ª—è–º:**

```typescript
// database.config.ts - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
// auth.config.ts - JWT, OAuth –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// aws.config.ts - S3, CloudFront –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

## üîÆ **–ß–¢–û –î–ê–õ–¨–®–ï**

–ê–≤—Ç–æ—Ä —É–ø–æ–º–∏–Ω–∞–µ—Ç –æ **type safety** –∏ **–º–æ–¥—É–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö**:

> "When we create module specific configuration files in the upcoming videos, we'll get this type safety as well by using certain techniques which are offered by Nestjs."

**–í —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö –±—É–¥–µ—Ç:**

- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–≠—Ç–æ—Ç —É—Ä–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –≤ enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö! üöÄ
