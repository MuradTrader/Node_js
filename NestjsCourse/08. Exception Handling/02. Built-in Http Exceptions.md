## üéØ **–û–°–ù–û–í–ù–ê–Ø –¶–ï–õ–¨ –£–†–û–ö–ê**

–ê–≤—Ç–æ—Ä —Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã –º—ã **–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π NestJS** –ø–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º HTTP –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

## üìñ **–ì–î–ï –ù–ê–ô–¢–ò –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Æ**

### **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:**

- **–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [docs.nestjs.com/exception-filters](https://docs.nestjs.com/exception-filters)
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–∑–¥–µ–ª**: "Built-in HTTP exceptions"

### **–ö–∞–∫ –Ω–∞–π—Ç–∏ –≤—Ä—É—á–Ω—É—é:**

```
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ docs.nestjs.com
2. –í –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–π—Ç–∏ "Exception Filters"
3. –ò–ª–∏ –≤ –ø–æ–∏—Å–∫–µ –≤–≤–µ—Å—Ç–∏ "built-in HTTP exceptions"
```

## üèóÔ∏è **–ß–¢–û –°–û–î–ï–†–ñ–ò–¢ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø**

### **1. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö HTTP –∏—Å–∫–ª—é—á–µ–Ω–∏–π:**

```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ @nestjs/common:
BadRequestException; // 400 - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å
UnauthorizedException; // 401 - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
NotFoundException; // 404 - –ù–µ –Ω–∞–π–¥–µ–Ω–æ
ForbiddenException; // 403 - –ó–∞–ø—Ä–µ—â–µ–Ω–æ
NotAcceptableException; // 406 - –ù–µ –ø—Ä–∏–Ω—è—Ç–æ
RequestTimeoutException; // 408 - –¢–∞–π–º–∞—É—Ç
ConflictException; // 409 - –ö–æ–Ω—Ñ–ª–∏–∫—Ç
GoneException; // 410 - –£–¥–∞–ª–µ–Ω–æ
PayloadTooLargeException; // 413 - –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º
UnsupportedMediaTypeException; // 415 - –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–∏–ø
UnprocessableEntityException; // 422 - –ù–µ–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–∞—è —Å—É—â–Ω–æ—Å—Ç—å
InternalServerErrorException; // 500 - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
NotImplementedException; // 501 - –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
BadGatewayException; // 502 - –ü–ª–æ—Ö–æ–π —à–ª—é–∑
ServiceUnavailableException; // 503 - –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
GatewayTimeoutException; // 504 - –¢–∞–π–º–∞—É—Ç —à–ª—é–∑–∞
```

### **2. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**

**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
throw new BadRequestException("Something is wrong");
```

**–° –æ–±—ä–µ–∫—Ç–æ–º –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π:**

```typescript
throw new BadRequestException({
  statusCode: 400,
  error: "Bad Request",
  message: "Something is wrong",
});
```

## üîß **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –í–°–¢–†–û–ï–ù–ù–´–• –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô**

### **1. –ù–µ –Ω—É–∂–Ω–æ –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥:**

```typescript
// ‚ùå –ù–ï –ù–£–ñ–ù–û –î–ï–õ–ê–¢–¨ –¢–ê–ö:
throw { status: 404, message: "Not found" };

// ‚úÖ –î–û–°–¢–ê–¢–û–ß–ù–û –°–î–ï–õ–ê–¢–¨ –¢–ê–ö:
throw new NotFoundException("User not found");
```

### **2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å—ã:**

```typescript
// NestJS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
throw new BadRequestException(); // ‚Üí HTTP 400
throw new NotFoundException(); // ‚Üí HTTP 404
throw new ConflictException(); // ‚Üí HTTP 409
```

### **3. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤:**

```typescript
// –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
{
  "statusCode": 404,
  "message": "User not found"
}
```

## üí° **–ü–†–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –í –í–ê–®–ï–ú –ü–†–û–ï–ö–¢–ï**

### **–ì–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤–∞—à–µ–º –∫–æ–¥–µ:**

**–í UsersService:**

```typescript
public async createUser(createUserDto: CreateUserDto) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const existingUser = await this.usersRepository.findOne({
    where: { email: createUserDto.email }
  });

  if (existingUser) {
    throw new ConflictException('User with this email already exists');
  }

  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...
}
```

**–í AuthService:**

```typescript
public login(email: string, password: string) {
  const user = await this.usersService.findByEmail(email);

  if (!user) {
    throw new UnauthorizedException('Invalid credentials');
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è...
}
```

**–í PostsService:**

```typescript
public async findOne(id: number) {
  const post = await this.postsRepository.findOneBy({ id });

  if (!post) {
    throw new NotFoundException(`Post with ID ${id} not found`);
  }

  return post;
}
```

## üéØ **–ü–û–ß–ï–ú–£ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø - "–í–ê–® –õ–£–ß–®–ò–ô –î–†–£–ì"**

### **1. –ü–æ–ª–Ω—ã–π –æ—Ö–≤–∞—Ç —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**

```typescript
// –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
// –ù–µ –Ω—É–∂–Ω–æ –≥–∞–¥–∞—Ç—å, –∫–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
```

### **2. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**

```typescript
// –í—Å–µ–≥–¥–∞ —Å–∞–º–∞—è —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è
// –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ NestJS
```

### **3. –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:**

```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π exception
// –≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –Ω–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã
```

## üîç **–ß–¢–û –ï–©–ï –ï–°–¢–¨ –í –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò**

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:**

- **Exception Filters** - –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ** inheritance** - –∫–∞–∫ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç HttpException
- **Global Filters** - –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

### **–ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**

```typescript
// –ò–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ - –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
export class ForbiddenException extends HttpException {
  constructor() {
    super("Forbidden", HttpStatus.FORBIDDEN);
  }
}
```

## üöÄ **–ü–û–î–ì–û–¢–û–í–ö–ê –ö –°–õ–ï–î–£–Æ–©–ò–ú –£–†–û–ö–ê–ú**

### **–ß—Ç–æ –∞–≤—Ç–æ—Ä –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –¥–∞–ª—å—à–µ:**

1. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
2. **–ó–∞–º–µ–Ω–∞ –æ–±—â–∏—Ö Error** –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ HTTP –∏—Å–∫–ª—é—á–µ–Ω–∏—è
3. **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞** —á–µ—Ä–µ–∑ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### **–ß—Ç–æ –≤–∞–º —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:**

- **–û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **–ü–æ–¥—É–º–∞—Ç—å**, –≥–¥–µ –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- **–ó–∞–ø–æ–º–Ω–∏—Ç—å**, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —É–∂–µ –ø–æ–∫—Ä—ã—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏

## üí° **–ö–õ–Æ–ß–ï–í–´–ï –í–´–í–û–î–´**

1. **NestJS –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–≥–∞—Ç—ã–π –Ω–∞–±–æ—Ä HTTP –∏—Å–∫–ª—é—á–µ–Ω–∏–π** –Ω–∞ –≤—Å–µ —Å–ª—É—á–∞–∏ –∂–∏–∑–Ω–∏
2. **–ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö HTTP –æ—à–∏–±–æ–∫
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π** —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ API –∏ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É

–ê–≤—Ç–æ—Ä –ø—Ä–∞–≤ - —ç—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—Ç–∞–Ω–µ—Ç –≤–∞—à–∏–º –ª—É—á—à–∏–º –¥—Ä—É–≥–æ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –≤ NestJS! üìö‚ú®
