### –û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

–ê–≤—Ç–æ—Ä —É–≥–ª—É–±–ª—è–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ Entity, –¥–æ–±–∞–≤–ª—è—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º `@Column()`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ TypeORM –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å DTO –≤–∞–ª–∏–¥–∞—Ü–∏—è–º–∏.

---

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º:

#### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫

**–ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**

```typescript
@Column({
  type: 'varchar',
  length: 96,
  nullable: false,
  unique: true
})
propertyName: string;
```

**–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç:**

- –≠—Ç–æ –æ–±—ä–µ–∫—Ç, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `@Column()`
- –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

---

#### 2. –¢–∏–ø—ã –∫–æ–ª–æ–Ω–æ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î

**–ü—Ä–æ–±–ª–µ–º–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**

- **PostgreSQL:** `varchar`, `text`, `integer`, `timestamp`
- **MySQL:** `varchar`, `text`, `int`, `datetime`
- **SQLite:** `text`, `integer`, `real`

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–æ–≤:**

```typescript
// –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É PostgreSQL –∏ MySQL
@Column({ type: 'varchar', length: 255 })  // ‚Üê –æ–±—â–∏–π —Ç–∏–ø
email: string;

// –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è PostgreSQL (–ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏)
@Column({ type: 'text' })  // ‚Üê –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É
content: string;
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø—ã, –æ–±—â–∏–µ –¥–ª—è –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –±—É–¥—É—â–µ–π –°–£–ë–î.

---

#### 3. –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–ª–æ–Ω–æ–∫

**–î–ª—è `firstName`:**

```typescript
@Column({
  type: 'varchar',
  length: 96,
  nullable: false
})
firstName: string;
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

**`type: 'varchar'`**

- –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ `text` –¥–ª—è –ø–æ–ª–µ–π —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω–æ–π
- –ê–Ω–∞–ª–æ–≥ –≤ PostgreSQL: `CHARACTER VARYING`

**`length: 96`**

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —Å–∏–º–≤–æ–ª–∞—Ö
- PostgreSQL –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω—è—Ç—å —Å—Ç—Ä–æ–∫–∏ –¥–ª–∏–Ω–Ω–µ–µ 96 —Å–∏–º–≤–æ–ª–æ–≤
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –∏–º–µ–Ω - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤

**`nullable: false`**

- –ö–æ–ª–æ–Ω–∫–∞ –Ω–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `NULL` –∑–Ω–∞—á–µ–Ω–∏—è
- –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç `NOT NULL` –≤ SQL
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

#### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è DTO –∏ Entity

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π:**

```typescript
// DTO - —Ä–∞–∑—Ä–µ—à–∞–µ—Ç 96 —Å–∏–º–≤–æ–ª–æ–≤
@MaxLength(96)
firstName: string;

// Entity - —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ 72 —Å–∏–º–≤–æ–ª–∞
@Column({ type: 'varchar', length: 72 })
firstName: string;

// –†–ï–ó–£–õ–¨–¢–ê–¢: DTO –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–æ –ë–î –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É!
```

**–†–µ—à–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

**CreateUserDto:**

```typescript
export class CreateUserDto {
  @MaxLength(96)
  firstName: string;

  @MaxLength(96)
  @IsOptional()
  lastName?: string;

  @MaxLength(255)
  email: string;

  @MaxLength(255)
  password: string;
}
```

**User Entity:**

```typescript
@Entity()
export class User {
  @Column({
    type: "varchar",
    length: 96,
    nullable: false,
  })
  firstName: string;

  @Column({
    type: "varchar",
    length: 96,
    nullable: true, // ‚Üê —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç @IsOptional()
  })
  lastName?: string;

  @Column({
    type: "varchar",
    length: 255,
    nullable: false,
    unique: true, // ‚Üê —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
  })
  email: string;

  @Column({
    type: "varchar",
    length: 255,
    nullable: false,
  })
  password: string;
}
```

---

#### 5. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–ü–∞—Ä–∞–º–µ—Ç—Ä `unique: true`:**

```typescript
@Column({
  type: 'varchar',
  length: 255,
  nullable: false,
  unique: true      // ‚Üê –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û
})
email: string;
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Å—Ç–∞–≤–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç - –æ—à–∏–±–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- –ó–∞—â–∏—Ç–∞ –æ—Ç race conditions (–∫–æ–≥–¥–∞ –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—ã—Ç–∞—é—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º email)

**SQL —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```sql
CREATE TABLE users (
  email VARCHAR(255) NOT NULL UNIQUE,
  -- ...
);
```

---

#### 6. –ü–æ–ª–Ω—ã–π –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π Entity

```typescript
import { Entity, Column, PrimaryGeneratedColumn } from "typeorm";

@Entity()
export class User {
  @PrimaryGeneratedColumn()
  id: number;

  @Column({
    type: "varchar",
    length: 96,
    nullable: false,
  })
  firstName: string;

  @Column({
    type: "varchar",
    length: 96,
    nullable: true,
  })
  lastName?: string;

  @Column({
    type: "varchar",
    length: 255,
    nullable: false,
    unique: true,
  })
  email: string;

  @Column({
    type: "varchar",
    length: 255,
    nullable: false,
  })
  password: string;
}
```

---

#### 7. –î—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª–æ–Ω–æ–∫ (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

**–ê–≤—Ç–æ—Ä —É–ø–æ–º–∏–Ω–∞–µ—Ç –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

**`name`** - –∫–∞—Å—Ç–æ–º–Ω–æ–µ –∏–º—è –∫–æ–ª–æ–Ω–∫–∏:

```typescript
@Column({ name: 'first_name' })
firstName: string;
```

**`default`** - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```typescript
@Column({ default: true })
isActive: boolean;
```

**`precision` –∏ `scale`** - –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö —Ç–∏–ø–æ–≤:

```typescript
@Column({ type: 'decimal', precision: 10, scale: 2 })
price: number;
```

**`enum`** - –¥–ª—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π:

```typescript
@Column({ enum: ['user', 'admin', 'moderator'] })
role: string;
```

---

#### 8. –ü—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL

**–ü—Ä–∏ `synchronize: true` TypeORM —Å–æ–∑–¥–∞–µ—Ç:**

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  firstName VARCHAR(96) NOT NULL,
  lastName VARCHAR(96),
  email VARCHAR(255) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL
);
```

**–ò–Ω–¥–µ–∫—Å –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ email:**

```sql
CREATE UNIQUE INDEX "users_email_key" ON users(email);
```

---

### –ò—Ç–æ–≥ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** –∫–æ –≤—Å–µ–º –∫–æ–ª–æ–Ω–∫–∞–º Entity
2. **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥–ª–∏–Ω—ã** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
3. **–û–±–µ—Å–ø–µ—á–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É DTO –≤–∞–ª–∏–¥–∞—Ü–∏—è–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ë–î
4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email** –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ nullable-–ª–æ–≥–∏–∫–∞** –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** DTO –∏ Entity —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —É–Ω–∏—Å–æ–Ω
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∑–∞—â–∏—â–∞—é—Ç –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –∏ –¥–ª–∏–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**

- –í—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ DTO –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å Entity –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `unique: true` –¥–ª—è –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏
- –í—ã–±–∏—Ä–∞–π—Ç–µ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ –¥–ª–∏–Ω—ã –ø–æ–ª–µ–π based on –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–ß—Ç–æ –¥–∞–ª—å—à–µ:** –ê–≤—Ç–æ—Ä –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ TypeORM, –≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—è –∏–Ω–¥–µ–∫—Å—ã, –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ User Entity –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production-—Å—Ä–µ–¥–µ! üóÑÔ∏èüîí
