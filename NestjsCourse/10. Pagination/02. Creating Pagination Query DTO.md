## üéØ **–ü—Ä–æ–±–ª–µ–º–∞: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**

### üîß **–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –≤ PostsController:**

```typescript
@Get("/:userId?")
public getPosts(@Param("userId") userId: string) {
    return this.postsService.findAll(userId);
    // ‚ùå –ù–ï–¢ –ü–ê–ì–ò–ù–ê–¶–ò–ò
    // ‚ùå –ù–ï–¢ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–• –ü–ê–†–ê–ú–ï–¢–†–û–í
}
```

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**

### üìÅ **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤:**

```
src/
‚îú‚îÄ‚îÄ common/           # ‚úÖ –û–ë–©–ò–ï –ú–û–î–£–õ–ò
‚îÇ   ‚îî‚îÄ‚îÄ pagination/   # ‚úÖ –ü–ê–ì–ò–ù–ê–¶–ò–Ø
‚îÇ       ‚îî‚îÄ‚îÄ dtos/
‚îÇ           ‚îî‚îÄ‚îÄ pagination-query.dto.ts
```

**–ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- `common` - –¥–ª—è –∫–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- `pagination` - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `dtos` - Data Transfer Objects –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤

## üìù **–°–æ–∑–¥–∞–Ω–∏–µ PaginationQueryDto**

### üî® **–ë–∞–∑–æ–≤—ã–π DTO –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:**

```typescript
// src/common/pagination/dtos/pagination-query.dto.ts
export class PaginationQueryDto {
  @IsOptional()
  @IsPositive()
  limit?: number;

  @IsOptional()
  @IsPositive()
  page?: number;
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤:**

#### `@IsOptional()`

```typescript
@IsOptional()
limit?: number;
```

- –ü–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### `@IsPositive()`

```typescript
@IsPositive()
limit?: number;
```

- –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç `limit=-10` –∏–ª–∏ `page=0`

## ‚ö° **–í–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—è–≤–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤**

### üîß **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ValidationPipe –≤ main.ts:**

```typescript
app.useGlobalPipes(
  new ValidationPipe({
    whitelist: true,
    forbidNonWhitelisted: true,
    transform: true, // ‚úÖ –í–ö–õ–Æ–ß–ê–ï–ú –ü–†–ï–û–ë–†–ê–ó–û–í–ê–ù–ò–ï
    transformOptions: {
      enableImplicitConversion: true, // ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!
    },
  })
);
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç:**

| –ë–µ–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è          | –° –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º             |
| --------------------------- | ----------------------------- |
| `"10"` (string) ‚Üí –æ—à–∏–±–∫–∞    | `"10"` ‚Üí `10` (number)        |
| –ù—É–∂–µ–Ω `@Type(() => Number)` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ |
| –†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞               | –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞                |

## üéØ **–°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö DTO –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π**

### üìù **GetPostsBaseDto –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

```typescript
// src/posts/dtos/get-posts.dto.ts
export class GetPostsBaseDto {
  @IsOptional()
  @IsDate()
  startDate?: Date;

  @IsOptional()
  @IsDate()
  endDate?: Date;
}
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**

- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø–æ—Å—Ç–æ–≤
- –ù–µ —Å–≤—è–∑–∞–Ω—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –ú–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoints

## üîÑ **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ DTO —Å IntersectionType**

### üß© **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

```typescript
import { IntersectionType } from "@nestjs/swagger";

export class GetPostsDto extends IntersectionType(
  GetPostsBaseDto, // ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø–æ—Å—Ç–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  PaginationQueryDto // ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è
) {}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:**

```typescript
// GetPostsDto –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï –ø–æ–ª—è:
{
    startDate?: Date;    // –∏–∑ GetPostsBaseDto
    endDate?: Date;      // –∏–∑ GetPostsBaseDto
    limit?: number;      // –∏–∑ PaginationQueryDto
    page?: number;       // –∏–∑ PaginationQueryDto
}
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ IntersectionType**

### ‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

- `PaginationQueryDto` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –õ–Æ–ë–û–ô —Å—É—â–Ω–æ—Å—Ç—å—é
- –ù–µ –Ω—É–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

### ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:**

- –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### ‚úÖ **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API

## üîß **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**

### üöÄ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π PostsController:**

```typescript
@Get("/:userId?")
public getPosts(
    @Param("userId") userId: string,
    @Query() postsQuery: GetPostsDto  // ‚úÖ –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ù–´–ô DTO
) {
    console.log(postsQuery); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
    return this.postsService.findAll(userId, postsQuery);
}
```

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º –≤ `postsQuery`:**

```typescript
{
    userId: string,         // –∏–∑ @Param
    startDate?: Date,       // –∏–∑ query params
    endDate?: Date,         // –∏–∑ query params
    limit?: number,         // –∏–∑ query params
    page?: number           // –∏–∑ query params
}
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏**

### üî® **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å Pre-request Script:**

```http
### Get posts with pagination and date range
GET http://localhost:3000/posts?limit=10&page=1&startDate={{startDate}}&endDate={{endDate}}

### Pre-request Script
{%
    const startDate = new Date();
    const endDate = new Date();
    endDate.setDate(endDate.getDate() + 7);

    exports.startDate = startDate.toISOString();
    exports.endDate = endDate.toISOString();
%}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **Pre-request Script** –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
2. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞—Ç—ã** –≤ JavaScript
3. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ URL
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞** –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∑–∞–ø—Ä–æ—Å

## üõ°Ô∏è **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

### üîß **–£–ª—É—á—à–µ–Ω–∏–µ PaginationQueryDto:**

```typescript
export class PaginationQueryDto {
  @IsOptional()
  @IsPositive()
  @Max(500) // ‚úÖ –ó–ê–©–ò–¢–ê –û–¢ –ü–ï–†–ï–ì–†–£–ó–ö–ò
  limit?: number = 10; // ‚úÖ –ó–ù–ê–ß–ï–ù–ò–ï –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ

  @IsOptional()
  @IsPositive()
  page?: number = 1; // ‚úÖ –ó–ù–ê–ß–ï–ù–ò–ï –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ
}
```

**–ó–∞—á–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**

- **–£–¥–æ–±—Å—Ç–≤–æ** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∑–∞—â–∏—Ç–∞ –æ—Ç `limit=100000`
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ API

## üéØ **–ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

### 1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**

- `PaginationQueryDto` - —Ç–æ–ª—å–∫–æ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- `GetPostsBaseDto` - —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Å—Ç–æ–≤
- `GetPostsDto` - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ IntersectionType

### 2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:**

- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –õ–Æ–ë–´–ú endpoint
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∫ –Ω–æ–≤—ã–º —Å—É—â–Ω–æ—Å—Ç—è–º

### 3. **–ì–∏–±–∫–æ—Å—Ç—å:**

- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É

### 4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ (`@Max(500)`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

## üîÆ **–ß—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ:**

–°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –∞–≤—Ç–æ—Ä –±—É–¥–µ—Ç:

1. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å DTO –≤ —Å–µ—Ä–≤–∏—Å–µ** - –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∫ –∑–∞–ø—Ä–æ—Å–∞–º
2. **–°–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Å –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–º–∏** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤–∏–¥–µ–æ
3. **–†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å SQL –ø–∞–≥–∏–Ω–∞—Ü–∏—é** - LIMIT –∏ OFFSET

–≠—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏! üöÄ
