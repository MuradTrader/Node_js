### Детальное объяснение концепций автора о наборах символов и кодировках

#### 1. **Проблема представления текста в компьютерах**

- **Фундаментальное ограничение**: Компьютеры работают только с бинарными числами (0 и 1).
- **Человеческая потребность**: Люди оперируют текстом (буквы, слова, предложения).
- **Решение**: Система преобразования символов ↔ чисел через:
  - **Наборы символов (Character Sets)**: Стандарт сопоставления символов с числами.
  - **Кодировки символов (Character Encodings)**: Правила преобразования чисел в бинарные последовательности.

---

#### 2. **Наборы символов (Character Sets)**

**Определение**: Таблица, где каждому символу присвоен уникальный числовой код (code point).

**Примеры стандартов**:

1. **Unicode**:

   - Самый полный стандарт (149,813+ символов по версии 15.1, 2023 г.).
   - Включает все мировые языки, эмодзи, спецсимволы.
   - Постоянно расширяется (новые символы добавляются ежегодно).
   - Пример: символ `s` → код `U+0073` (десятичный: 115).

2. **ASCII**:
   - Только 128 символов (английский язык + управляющие коды).
   - Фиксированный набор (не расширяется).
   - Подмножество Unicode (коды совпадают, например `s` = 115 в обоих).
   - Состав:
     - Управляющие символы (0-31): `NUL`, `DEL`, `LF` (перенос строки).
     - Цифры (48-57): `'0'`=48, `'1'`=49 (это символы, а не числа!).
     - Буквы (65-90 A-Z, 97-122 a-z).
     - Пунктуация (32-47, 58-64, 91-96, 123-126).

**Практика**:

- Просмотр ASCII в Unix-терминалах:
  ```bash
  man ascii  # Выводит таблицу в восьмеричном, шестнадцатеричном и десятичном форматах
  ```
- Использование калькулятора:
  - Десятичный код 115 → Символ `s` (в Unicode/ASCII).

**Важное уточнение**:

- **Символы цифр ≠ числа**:
  - При вводе `9` в текстовом редакторе сохраняется код символа `'9'` (57), а не число 9.
  - Число 9 в бинарном виде: `00001001`, символ `'9'`: `00111001`.

---

#### 3. **Кодировки символов (Character Encodings)**

**Определение**: Система преобразования числовых кодов (code points) в бинарные последовательности (байты).

**Принцип работы**:

- **Кодировщик (Encoder)**:
  - Вход: Символы (человекочитаемые данные).
  - Выход: Бинарные последовательности (для компьютера).
- **Декодировщик (Decoder)**:
  - Вход: Бинарные данные.
  - Выход: Символы.

**Пример: UTF-8**:

- Стандартная кодировка для Unicode.
- **Ключевые особенности**:
  - Переменная длина символа:
    - ASCII-символы: 1 байт (старший бит = 0).
    - Не-ASCII: 2-4 байта.
  - Пример для `s`:
    - Code point: 115 (десятичный).
    - Бинарно: `01110011` (1 байт).
  - Пример для `я` (кириллица):
    - Code point: 1103 (десятичный).
    - Бинарно: `11010000 10110000` (2 байта).

**Почему UTF-8?**:

- Эффективность: ASCII-тексты занимают минимум места.
- Универсальность: Поддержка всех языков.
- Самосинхронизация: Можно определить начало символа в потоке байтов.

---

#### 4. **Критическая важность согласованности кодировок**

**Проблема**:

- Один и тот же бинарный код интерпретируется по-разному в разных кодировках.
- Пример:
  - Бинарно: `01110100` (десятичный 116).
  - В UTF-8: Символ `t`.
  - В другой кодировке (например, Windows-1251): Символ `т` (кириллическая "т").

**Последствия**:

- **Кракозябры (Mojibake)**: Нечитаемый текст при несовпадении кодировок.
- **Решение**: Всегда явно указывать кодировку:
  - В HTTP-заголовках (`Content-Type: text/html; charset=utf-8`).
  - В файлах (например, `<?xml encoding="UTF-8"?>`).

---

#### 5. **Как работает кодировка в ОС**

- **Системная интеграция**:
  - Кодировка встроена в ОС (без нее невозможен ввод/вывод текста).
  - Пример: При вводе `s` в терминале:
    1. Кодировщик преобразует `s` → `01110011`.
    2. Компьютер сохраняет бинарные данные.
    3. При выводе декодировщик преобразует `01110011` → `s`.
- **UTF-8 как стандарт**:
  - Используется в Linux/macOS по умолчанию.
  - Windows исторически использует UTF-16, но UTF-8 поддерживается.

---

### Ключевые термины

| Термин                    | Пояснение                                                                          |
| ------------------------- | ---------------------------------------------------------------------------------- |
| **Code Point**            | Числовой идентификатор символа в наборе (например, 115 для `s`).                   |
| **Character Set**         | Таблица соответствия символов ↔ code points (Unicode, ASCII).                      |
| **Character Encoding**    | Правила преобразования code points ↔ бинарные данные (UTF-8, UTF-16).              |
| **LSB/MSB**               | Младший/старший бит в байте (определяет вес значения).                             |
| **BOM (Byte Order Mark)** | Спецсимвол в начале файла для указания кодировки (например, `EF BB BF` для UTF-8). |

Автор подчеркивает: **Кодировки — это реализация стандартов**, без которой работа с текстом в компьютерах невозможна. UTF-8 стал универсальным решением благодаря балансу эффективности и универсальности.
